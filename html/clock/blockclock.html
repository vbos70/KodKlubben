<!DOCTYPE html>
<html>
<body>
  <h1>Clock</h1>

  The original version of this clock can be found
  on <a href="https://www.w3schools.com/graphics/canvas_clock.asp">w3schools.com,
  Canvas Clock</a>

  <p/>
  
<canvas id="canvas" width="864" height="600"
style="background-color:#333">
</canvas>

<script>
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
setInterval(drawClock, 500);


function drawBlocks(curTime, x, y, w, h, bw, bh, numx, numy, color1, color2, bgcolor) {
    var tick;
    var grd;
    for (tick = 0; tick < (numx*numy); tick++) {
	cy = y + bh * Math.floor(tick / numx);
	cx = x + bw * (tick % numx);
	grd = ctx.createLinearGradient(cx, cy, cx+bw, cy+bh);
	grd.addColorStop(0, color1);
	grd.addColorStop(1, color2);
	if ( tick < curTime ) {
	    ctx.fillStyle = grd;
	} else {
	    ctx.fillStyle = bgcolor;
	}
	ctx.fillRect(cx, cy, bw, bh);
    }
}

function drawClock() {

    var now = new Date();
    var second = now.getSeconds();
    var minute = now.getMinutes();
    var hour = now.getHours();
    var x = 0;
    var y = 0;
    var w = 864; // 12 * 12 * 6
    var h = 100; // 5 * 5 * 4
    var cols = 6;
    var rows = 4;
    var bw = w / cols;
    var bh = h / rows;
    drawBlocks(hour, x, y, w, h, bw, bh, cols, rows, "white", "blue", "#4444AA");
    
    x = x + bw * (hour % cols);
    y = y + bh * Math.floor(hour / cols);
    w = bw;
    h = bh;
    cols = 12;
    rows = 5;
    bw = w / cols;
    bh = h / rows;
    drawBlocks(minute, x, y, w, h, bw, bh, cols, rows, "white", "red", "#44AA44");    

    x = x + bw * (minute % cols);
    y = y + bh * Math.floor(minute / cols);
    w = bw;
    h = bh;
    cols = 12;
    rows = 5;
    bw = w / cols;
    bh = h / rows;
    drawBlocks(second, x, y, w, h, bw, bh, cols, rows, "white", "green", "#4444AA");    
}

</script>

</body>
</html>
